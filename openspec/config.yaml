# OpenSpec Configuration
# Copy to your project's openspec/ directory and customize

project:
  name: "{{ PROJECT_NAME }}"      # Replace with your project name
  language: "zh-CN"               # zh-CN or en-US

# Default workflow schema (CLI reads this field)
schema: workflow

# Project context (injected into all artifact instructions - constraints for AI)
context: |
  This project follows the 13-Step Contract-First Development Workflow.
  
  Tech Stack: See context/tech_stack.md
  Infrastructure: See context/infrastructure.md (if exists)
  
  Development Mode: fullstack (can be overridden per-change)
  
  Key Constraints:
  - All API responses MUST follow StandardResp format: {code, message, data}
  - All requests MUST include X-Request-ID header for tracing
  - All logging MUST be structured with trace_id
  - Error codes MUST follow infrastructure.md standards

# Per-artifact rules (constraints for AI when creating artifacts)
rules:
  proposal:
    - "MUST include Non-Goals section - explicitly state what is out of scope"
    - "MUST include Edge Cases & Risks section"
    - "Keep concise (1-2 pages max)"
  spec:
    - "MUST include JSON request/response examples for every endpoint"
    - "MUST follow StandardResp structure: {code: 0, message: 'success', data: {...}}"
    - "MUST define error codes and reference infrastructure.md"
    - "MUST specify logging requirements for critical operations"
  design:
    - "MUST specify development mode (fullstack/frontend-only/backend-only)"
    - "MUST define mocking strategy using JSON from spec.md"
    - "MUST reference infrastructure.md for patterns"
  tasks:
    - "MUST follow 13-Step Contract-First Workflow structure"
    - "MUST include specific file paths, class names, function names"
    - "MUST adapt based on development mode (skip frontend tasks for backend-only, etc.)"

# Development mode (affects design and tasks generation)
# Options: fullstack, frontend-only, backend-only, middleware-only
dev_mode: fullstack
